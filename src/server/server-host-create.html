<template>
    <require from="./server-host-create.css"></require>
    <require from="ion-rangeslider/css/ion.rangeSlider.css"></require>
    <require from="ion-rangeslider/css/ion.rangeSlider.skinNice.css"></require>
    <require from="comp/ui/ui-btn-grp"></require>
    <div class="ui large modal nx-server-host-create" ref="modal">
        <div class="header">创建主机</div>
        <div class="content">
            <div class="ui celled padded grid">
                <div class="ten wide column nx-steps-container" ref="stepsContainer">
                    <div class="ui four top attached steps" style="margin-bottom: 0px;">
                        <div class="active step">
                            <!-- <i class="info icon"></i> -->
                            <div class="ui big green circular label">
                                1
                            </div>
                            <div class="content">
                                <div class="title">选择规格</div>
                            </div>
                        </div>
                        <div class="disabled step">
                            <!-- <i class="info icon"></i> -->
                            <div class="ui big green circular label">
                                2
                            </div>
                            <div class="content">
                                <div class="title">选择网络</div>
                            </div>
                        </div>
                        <div if.bind="!mirror" class="disabled step">
                            <!-- <i class="info icon"></i> -->
                            <div class="ui big green circular label">
                                3
                            </div>
                            <div class="content">
                                <div class="title">选择镜像</div>
                            </div>
                        </div>
                        <div class="disabled step">
                            <!-- <i class="info icon"></i> -->
                            <div class="ui big green circular label">
                                ${!mirror? 4 : 3}
                            </div>
                            <div class="content">
                                <div class="title">信息设置</div>
                            </div>
                        </div>
                    </div>
                    <div class="ui bottom attached tab segment active">
                        <div class="ui form">
                            <div class="inline field">
                                <label>可用区域</label>
                                <div class="ui selection dropdown" ref="uiZones">
                                    <input type="hidden" value="1" name="zone">
                                    <i class="dropdown icon"></i>
                                    <div class="default text"></div>
                                    <div class="menu">
                                        <div repeat.for="z of zones" class="item" data-value="${z.value}">${z.label}</div>
                                        <!-- <div class="item" data-value="2">上海2区</div>
                                        <div class="item" data-value="3">上海3区</div> -->
                                    </div>
                                </div>
                                <div class="nx-tip">
                                    不同地域之间的产品内网不互通；订购后不支持更换地域。
                                </div>
                            </div>
                            <div class="inline field">
                                <label>主机类型</label>
                                <ui-btn-grp select-cb.call="btnGrpSelectHandler()" items.bind="hostTypes"></ui-btn-grp>
                                <!-- <div class="ui buttons">
                                    <div class="ui button blue">经济适用型</div>
                                    <div class="ui button">性能型</div>
                                </div> -->
                            </div>
                            <div class="inline field">
                                <label>CPU规格</label>
                                <ui-btn-grp select-cb.call="btnGrpSelectHandler()" items.bind="cpuTypes"></ui-btn-grp>
                                <!-- <div class="ui buttons">
                                    <div class="ui button blue">1核</div>
                                    <div class="ui button">2核</div>
                                    <div class="ui button">4核</div>
                                    <div class="ui button">8核</div>
                                    <div class="ui button">16核</div>
                                </div> -->
                            </div>
                            <div class="inline field">
                                <label>内存规格</label>
                                <ui-btn-grp select-cb.call="btnGrpSelectHandler()" items.bind="memTypes"></ui-btn-grp>
                                <!-- <div class="ui buttons">
                                    <div class="ui button blue">1GB</div>
                                    <div class="ui button">2GB</div>
                                    <div class="ui button">4GB</div>
                                    <div class="ui button">8GB</div>
                                    <div class="ui button">16GB</div>
                                    <div class="ui button">32GB</div>
                                    <div class="ui button">64GB</div>
                                </div> -->
                            </div>
                        </div>
                    </div>
                    <div class="ui bottom attached tab segment">
                        <div class="ui form">
                            <div class="inline field">
                                <label>网络类型</label>
                                <ui-btn-grp select-cb.call="btnGrpSelectHandler()" items.bind="netTypes"></ui-btn-grp>
                                <!-- <div class="ui buttons">
                                    <div class="ui button blue">经典网络</div>
                                    <div class="ui button">私有网络</div>
                                </div> -->
                                <div class="nx-tip">
                                    经典网络与私有网络不能互通，购买后不能更换网络类型
                                </div>
                            </div>
                            <div class="inline field">
                                <label>公网带宽</label>
                                <ui-btn-grp select-cb.call="btnGrpSelectHandler()" items.bind="bwTypes"></ui-btn-grp>
                                <!-- <div class="ui buttons">
                                    <div class="ui button blue">按固定带宽</div>
                                    <div class="ui button">按使用流量</div>
                                </div> -->
                            </div>
                            <div class="inline field">
                                <label style="position: relative; top: 25px;">带宽大小</label>
                                <div class="nx-range">
                                    <div class="nx-range-slider">
                                        <input ref="rangeBw" type="text" value="0" data-min="0" data-max="20" data-step="1" data-grid="true" data-postfix="Mbps">
                                    </div>
                                    <!-- <div class="ui right labeled input nx-input">
                                        <input type="text" value="0">
                                        <div class="ui basic label">
                                            Mbps
                                        </div>
                                    </div> -->
                                </div>
                                <div class="nx-tip">
                                    带宽为0时代表不使用公网IP
                                </div>
                            </div>
                        </div>
                    </div>
                    <div if.bind="!mirror" class="ui bottom attached tab segment">
                        <div class="ui form">
                            <div class="inline field">
                                <label>镜像类型</label>
                                <ui-btn-grp select-cb.call="btnGrpSelectHandler()" items.bind="mirrorTypes"></ui-btn-grp>
                                <!-- <div class="ui buttons">
                                    <div class="ui button blue">系统镜像</div>
                                    <div class="ui button">自有镜像</div>
                                    <div class="ui button">共享镜像</div>
                                    <div class="ui button">市场镜像</div>
                                </div> -->
                                <div class="nx-tip">
                                    系统镜像由新致云统一提供的基础操作系统。
                                </div>
                            </div>
                            <div class="inline field">
                                <label>系统镜像</label>
                                <div class="ui selection dropdown" ref="uiMirrors">
                                    <input type="hidden" value="1" name="mirror">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">请选择系统镜像</div>
                                    <div class="menu">
                                        <div repeat.for="m of mirrors" class="item" data-value="${m.value}">${m.label}</div>
                                        <!-- <div class="item" data-value="2">Windows Server2008</div>
                                        <div class="item" data-value="3">Ubuntu</div> -->
                                    </div>
                                </div>
                            </div>
                            <div class="inline field">
                                <label>系统版本</label>
                                <div class="ui selection dropdown" ref="uiVersions">
                                    <input type="hidden" value="1" name="version">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">请选择系统镜像</div>
                                    <div class="menu">
                                        <div repeat.for="v of versions" class="item" data-value="${v.value}">${v.label}</div>
                                        <!-- <div class="item" data-value="2">CentOS6.0</div>
                                        <div class="item" data-value="3">CentOS7.0</div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ui bottom attached tab segment">
                        <div class="ui form">
                            <div class="inline fields">
                                <label>验证方式</label>
                                <div class="field">
                                    <div class="ui radio checkbox" ref="uiPwd">
                                        <input type="radio" name="auth" checked="checked">
                                        <label>密码验证</label>
                                    </div>
                                </div>
                                <div class="field">
                                    <div class="ui radio checkbox" ref="uiSshKey">
                                        <input type="radio" name="auth">
                                        <label>密钥验证</label>
                                    </div>
                                </div>
                            </div>
                            <div class="inline field" show.bind="authType == '1'">
                                <label>登录密码</label>
                                <div class="ui input">
                                    <input type="password" />
                                </div>
                                <div class="nx-tip">
                                    8-30个字符；同时包含三项（大小写字母,数字或特殊符号）。
                                </div>
                            </div>
                            <div class="inline field" show.bind="authType == '1'">
                                <label>确认密码</label>
                                <div class="ui input">
                                    <input type="password" />
                                </div>
                            </div>
                            <div class="inline field" show.bind="authType == '2'">
                                <label>登录密钥</label>
                                <div class="ui selection dropdown" ref="uiSshKeys">
                                    <input type="hidden" value="1" name="sshKey">
                                    <i class="dropdown icon"></i>
                                    <div class="default text"></div>
                                    <div class="menu">
                                        <div repeat.for="k of sshKeys" class="item" data-value="${k.value}">${k.label}</div>
                                    </div>
                                </div>
                                <span class="nx-gray">没有密钥?</span> <a class="nx-pointer">新建</a>
                            </div>
                            <div class="inline field">
                                <label>购买时长</label>
                                <div class="ui selection dropdown" ref="uiDuration">
                                    <input type="hidden" value="1" name="duration">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">请选择购买时长</div>
                                    <div class="menu">
                                        <div repeat.for="d of durations" class="item" data-value="${d.value}">${d.label}</div>
                                        <!-- <div class="item" data-value="1">3个月</div>
                                        <div class="item" data-value="1">10个月</div> -->
                                    </div>
                                </div>
                            </div>
                            <div class="inline field">
                                <label>购买数量</label>
                                <div class="ui right labeled input">
                                    <input type="text" value.bind="totalConfig.count">
                                    <div class="ui basic label">
                                        台
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ui basic segment">
                        <button ref="btnCancel" click.delegate="cancelHandler()" class="ui cancel basic blue left floated button">取消</button>
                        <button ref="btnPre" click.delegate="preHandler()" class="ui cancel basic blue left disabled floated button">上一步</button>
                        <button ref="btnOk" click.delegate="okHandler()" class="ui ok blue right floated disabled button">确认</button>
                        <button ref="btnNext" click.delegate="nextHandler()" class="ui ok blue right floated button">下一步</button>
                    </div>
                </div>
                <div class="six wide column nx-total-container">
                    <div class="ui form">
                        <h2 class="ui dividing header">当前选购配置</h2>
                        <div class="inline field">
                            <label>区域:</label>
                            <span>${totalConfig.zone.label}</span>
                            <!-- <span>上海1区</span> -->
                        </div>
                        <div class="inline field">
                            <label>规格:</label>
                            <span>${totalConfig.cpuType.label + totalConfig.memType.label + '(' + totalConfig.hostType.label + ')'}</span>
                            <!-- <span>1核2GB(性能型)</span> -->
                        </div>
                        <div class="inline field">
                            <label>镜像:</label>
                            <span>${totalConfig.mirror.label}</span>
                            <span>${'(' + totalConfig.version.label + ')'}</span>
                        </div>
                        <div class="inline field">
                            <label>网络:</label>
                            <span>${totalConfig.bwSize + ' Mpbs(' + totalConfig.netType.label + ')'}</span>
                            <!-- <span>0 Mpbs(经典网络)</span> -->
                        </div>
                        <div class="inline field">
                            <label>时长:</label>
                            <span>${totalConfig.duration.label}</span>
                            <!-- <span>1个月</span> -->
                        </div>
                        <div class="inline field">
                            <label>数量:</label>
                            <span>${totalConfig.count}台</span>
                        </div>
                        <div class="ui divider"></div>
                        <div class="inline field">
                            <label>主机规格费用:</label>
                            <span><span class="nx-price">￥108.00</span>/月 x 1 x 2</span>
                        </div>
                        <div class="inline field">
                            <label>公网流量费用:</label>
                            <span><span class="nx-price">￥0.72</span>/GB</span>
                        </div>
                    </div>
                    <h2 class="ui header">本次需付费:</h2>
                    <h1 class="ui red header">￥216.00</h1>
                    <div><a class="link nx-pointer">查看购买和计费说明 》</a></div>
                </div>
            </div>
        </div>
        <!-- <div class="actions">
            <div class="ui cancel basic blue left floated button">取消</div>
            <div class="ui ok blue button">确认</div>
        </div> -->
    </div>
</template>
